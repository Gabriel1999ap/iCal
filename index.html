<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerador iCal</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="top-bar">
      <i class="fas fa-calendar-alt"></i> Gerador de iCal
    </div>
    <img class="image-banner" src="img/color-strip-pebble.png" alt="Banner" />

    <div class="container">
      <h2>Expressão iCal</h2>

      <form id="icalForm">
        <label for="frequency">Frequência:</label>
        <select id="frequency" name="frequency">
          <option value="DAILY">Diário</option>
          <option value="WEEKLY">Semanal</option>
          <option value="MONTHLY">Mensal</option>
          <option value="YEARLY">Anual</option>
          <!-- <option value="HOURLY">A cada Hora</option> -->
          <!-- <option value="MINUTELY_DAILY">A Cada Minuto</option> -->
          <option value="INTERVAL_NEW">Intervalo</option>
        </select>
        <br /><br />

        <!-- Checkbox para ativar ou desativar o intervalo -->
        <label for="enableInterval">Ativar intervalo:</label>
        <input type="checkbox" id="enableInterval" name="enableInterval" />
        <br /><br />

        <!-- Campo do intervalo que aparecerá ao marcar o checkbox -->
        <div id="intervalField" style="display: none">
          <label for="interval"
            >Intervalo (em unidades de frequência selecionada):</label
          >
          <input
            type="number"
            id="interval"
            name="interval"
            min="1"
            value="1"
          />
        </div>

        <!-- Campo de unidade de intervalo -->
        <div id="intervalUnitField" style="display: none">
          <label for="intervalUnit">Unidade do Intervalo:</label>
          <select id="intervalUnit">
            <option value="MINUTELY">Minutos</option>
            <option value="HOURLY">Horas</option>
            <option value="DAILY">Dias</option>
            <option value="WEEKLY">Semanas</option>
            <option value="MONTHLY">Meses</option>
            <option value="YEARLY">Anos</option>
          </select>
        </div>
        <br /><br />

        <div
          id="frequencyDetails"
          style="
            display: none;
            border: 1px solid #f39c12;
            background-color: #f9ebae;
            padding: 10px;
            border-radius: 5px;
            color: #8a6d3b;
            font-weight: bold;
          "
        >
          <span style="font-size: 18px; margin-right: 10px">⚠️</span>
          <label for="details">Detalhes sobre a Frequência:</label><br />
          <textarea
            id="details"
            rows="4"
            readonly
            style="
              width: 100%;
              padding: 8px;
              font-size: 14px;
              border: 1px solid #f39c12;
              border-radius: 4px;
              background-color: #fff;
            "
          ></textarea
          ><br /><br />
        </div>
        <br />

        <div id="weeklyOptions" style="display: none">
          <label for="daysOfWeek"><b>Dias da Semana:</b> </label><br />
          <input type="checkbox" name="days" value="MO" /> Segunda
          <input type="checkbox" name="days" value="TU" /> Terça
          <input type="checkbox" name="days" value="WE" /> Quarta
          <input type="checkbox" name="days" value="TH" /> Quinta
          <input type="checkbox" name="days" value="FR" /> Sexta
          <input type="checkbox" name="days" value="SA" /> Sábado
          <input type="checkbox" name="days" value="SU" /> Domingo
        </div>
        <br />

        <div id="monthlyOptions" style="display: none">
          <label for="daysOfMonth"><b>Dia do Mês:</b> </label>
          <input
            type="text"
            id="daysOfMonth"
            name="daysOfMonth"
            placeholder="1,15,20"
          />
          <br /><br />
        </div>

        <div id="hourOptions">
          <label for="hours"><b>Horários:</b> </label><br />
          <input type="time" id="hour1" name="hour1" /><button
            type="button"
            onclick="clearField('hour1')"
            class="clear-btn"
          >
            ❌</button
          ><br />
          <input type="time" id="hour2" name="hour2" /><button
            type="button"
            onclick="clearField('hour2')"
            class="clear-btn"
          >
            ❌</button
          ><br />
          <input type="time" id="hour3" name="hour3" /><button
            type="button"
            onclick="clearField('hour3')"
            class="clear-btn"
          >
            ❌</button
          ><br />
          <input type="time" id="hour4" name="hour4" /><button
            type="button"
            onclick="clearField('hour4')"
            class="clear-btn"
          >
            ❌</button
          ><br /><br />
        </div>

        <div id="minuteOptions" style="display: none">
          <label for="customMinutes"
            >Minutos personalizados (separados por vírgula):</label
          ><br />
          <input
            type="text"
            id="customMinutes"
            name="customMinutes"
            placeholder="0,5,10,15,20,25..."
          />
          <br /><br />
        </div>

        <button type="button" class="btn" onclick="generateICal()">
          <i class="fas fa-calendar-alt"></i> Gerar função iCal
        </button>
      </form>
      <br />

      <h2>Resultado:</h2>
      <textarea id="icalResult" rows="6" readonly></textarea><br />

      <h2>Explicação da Expressão:</h2>
      <textarea id="icalExplanation" rows="6" readonly></textarea><br />
      <center>
        <button type="button" class="btn btn-copy" onclick="copyToClipboard()">
          Copiar para Área de Transferência
        </button>
      </center>
    </div>

    <script src="app.js"></script>
  </body>
  <footer class="footer">
    &copy; 2025 - Desenvolvido por
    <a
      href="https://www.linkedin.com/in/gabriel-almeida-9453b3197/"
      target="_blank"
      >Gabriel</a
    >
  </footer>
</html>
